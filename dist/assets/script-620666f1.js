import{g as m,b as g,h,N as y,A as E,a as b,S as v}from"./swiper-bundle.min-39448342.js";import{P as T}from"./pagination-fb129ed0.js";import{b as w,g as S}from"./helpers-0bb72b7a.js";function P(t){const{effect:a,swiper:e,on:i,setTranslate:d,setTransition:o,overwriteParams:n,perspective:r,recreateShadows:s,getEffectParams:c}=t;i("beforeInit",()=>{if(e.params.effect!==a)return;e.classNames.push(`${e.params.containerModifierClass}${a}`),r&&r()&&e.classNames.push(`${e.params.containerModifierClass}3d`);const f=n?n():{};Object.assign(e.params,f),Object.assign(e.originalParams,f)}),i("setTranslate",()=>{e.params.effect===a&&d()}),i("setTransition",(f,u)=>{e.params.effect===a&&o(u)}),i("transitionEnd",()=>{if(e.params.effect===a&&s){if(!c||!c().slideShadows)return;e.slides.forEach(f=>{f.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(u=>u.remove())}),s()}});let l;i("virtualUpdate",()=>{e.params.effect===a&&(e.slides.length||(l=!0),requestAnimationFrame(()=>{l&&e.slides&&e.slides.length&&(d(),l=!1)}))})}function x(t,a){const e=m(a);return e!==a&&(e.style.backfaceVisibility="hidden",e.style["-webkit-backface-visibility"]="hidden"),e}function M({swiper:t,duration:a,transformElements:e,allSlides:i}){const{activeIndex:d}=t,o=n=>n.parentElement?n.parentElement:t.slides.filter(s=>s.shadowEl&&s.shadowEl===n.parentNode)[0];if(t.params.virtualTranslate&&a!==0){let n=!1,r;i?r=e:r=e.filter(s=>{const c=s.classList.contains("swiper-slide-transform")?o(s):s;return g(c)===d}),r.forEach(s=>{h(s,()=>{if(n||!t||t.destroyed)return;n=!0,t.animating=!1;const c=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});t.wrapperEl.dispatchEvent(c)})})}}function N({swiper:t,extendParams:a,on:e}){a({fadeEffect:{crossFade:!1}}),P({effect:"fade",swiper:t,on:e,setTranslate:()=>{const{slides:o}=t,n=t.params.fadeEffect;for(let r=0;r<o.length;r+=1){const s=t.slides[r];let l=-s.swiperSlideOffset;t.params.virtualTranslate||(l-=t.translate);let f=0;t.isHorizontal()||(f=l,l=0);const u=t.params.fadeEffect.crossFade?Math.max(1-Math.abs(s.progress),0):1+Math.min(Math.max(s.progress,-1),0),p=x(n,s);p.style.opacity=u,p.style.transform=`translate3d(${l}px, ${f}px, 0px)`}},setTransition:o=>{const n=t.slides.map(r=>m(r));n.forEach(r=>{r.style.transitionDuration=`${o}ms`}),M({swiper:t,duration:o,transformElements:n,allSlides:!0})},overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!t.params.cssMode})})}function k(t){const a=w(t),e=S(t),i=O(a,e);return()=>i.destroy()}function O(t,a){const{options:e}=a,i={modules:[y,E,b,T,N],a11y:e.a11y,slidesPerView:1,spaceBetween:0,effect:"fade",pagination:{el:t.pagination,type:"bullets",clickable:!0},navigation:{nextEl:t.next,prevEl:t.prev}};return e.autoplay&&e.autoplaySpeed&&(i.autoplay={delay:e.autoplaySpeed}),new v(t.slider,i)}export{k as default};
